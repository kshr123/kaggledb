# 22. è¨­å®šç®¡ç†æˆ¦ç•¥ï¼ˆ2025-11-16ï¼‰

## ğŸ“‹ ç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®å¤‰æ›´å¯èƒ½ãªå¼•æ•°

### 1. LLM ã‚µãƒ¼ãƒ“ã‚¹ (`llm_service.py`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ç¾åœ¨å€¤ | å¤‰æ›´é »åº¦ | ç”¨é€” |
|----------|--------|---------|------|
| `model` | `gpt-4o-mini` | ğŸ”„ ä¸­ | ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆï¼ˆmini/é€šå¸¸/æ¤œè¨¼ç”¨ï¼‰ |
| `max_retries` | `3` | ğŸ”„ ä¸­ | API ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒªãƒˆãƒ©ã‚¤å›æ•° |
| `retry_delay` | `2` ç§’ | ğŸ”„ ä¸­ | ãƒªãƒˆãƒ©ã‚¤é–“éš” |
| `temperature` | ãƒ¡ã‚½ãƒƒãƒ‰æ¯ | ğŸ”„ é«˜ | è¦ç´„: 0.3, ã‚¿ã‚°: 0.2, è©•ä¾¡æŒ‡æ¨™: 0.1 |
| `max_tokens` | ãƒ¡ã‚½ãƒƒãƒ‰æ¯ | ğŸ”„ ä¸­ | è¦ç´„: 1000, ã‚¿ã‚°: 500, è©•ä¾¡æŒ‡æ¨™: 100 |
| `api_key` | ç’°å¢ƒå¤‰æ•° | âŒ ä½ | OpenAI APIã‚­ãƒ¼ï¼ˆç’°å¢ƒå¤‰æ•°æ¨å¥¨ï¼‰ |

### 2. ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ (`scraper_service.py`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ç¾åœ¨å€¤ | å¤‰æ›´é »åº¦ | ç”¨é€” |
|----------|--------|---------|------|
| `headless` | `True` | ğŸ”„ é«˜ | ãƒ‡ãƒãƒƒã‚°æ™‚ã¯ False |
| `cache_ttl_days` | `1` æ—¥ | ğŸ”„ ä¸­ | ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹æœŸé™ |
| `timeout` | `30000` ms | ğŸ”„ ä¸­ | ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ |
| `wait_after_load` | `2` ç§’ | ğŸ”„ ä¸­ | ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å®Œäº†å¾…æ©Ÿæ™‚é–“ |
| `delay_seconds` | `2.0` ç§’ | ğŸ”„ é«˜ | ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–ã®å¾…æ©Ÿæ™‚é–“ |
| `base_url` | Kaggle URL | âŒ ä½ | åŸºæœ¬URL |

### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µãƒ¼ãƒ“ã‚¹ (`cache_service.py`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ç¾åœ¨å€¤ | å¤‰æ›´é »åº¦ | ç”¨é€” |
|----------|--------|---------|------|
| `host` | `localhost` | ğŸ”„ ä¸­ | Redis ãƒ›ã‚¹ãƒˆï¼ˆdev/prodåˆ‡æ›¿ï¼‰ |
| `port` | `6379` | ğŸ”„ ä¸­ | Redis ãƒãƒ¼ãƒˆ |
| `db` | `0` | ğŸ”„ ä¸­ | Redis DBç•ªå·ï¼ˆç’°å¢ƒåˆ†é›¢ï¼‰ |

### 4. ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…±é€š

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ç¾åœ¨å€¤ | å¤‰æ›´é »åº¦ | ç”¨é€” |
|----------|--------|---------|------|
| `limit` | ãªã— | ğŸ”„ é«˜ | å‡¦ç†ä»¶æ•°åˆ¶é™ï¼ˆãƒ†ã‚¹ãƒˆæ™‚ï¼‰ |
| `dry_run` | `False` | ğŸ”„ é«˜ | DBæ›´æ–°ãªã—ã§ãƒ†ã‚¹ãƒˆ |
| `database_path` | ç’°å¢ƒå¤‰æ•° | âŒ ä½ | DBãƒ‘ã‚¹ |

---

## ğŸ”€ ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ vs YAML æ¯”è¼ƒ

### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… **1å›é™ã‚Šã®å®Ÿè¡Œã«ä¾¿åˆ©**: `python script.py --limit 5 --dry-run`
- âœ… **CI/CD ã§ç°¡å˜**: GitHub Actions ç­‰ã§ç›´æ¥æŒ‡å®š
- âœ… **æ˜ç¤ºçš„**: å®Ÿè¡Œæ™‚ã«ä½•ã‚’ã—ã¦ã„ã‚‹ã‹æ˜ç¢º
- âœ… **å­¦ç¿’ã‚³ã‚¹ãƒˆä½ã„**: ã‚·ãƒ³ãƒ—ãƒ«ã§åˆ†ã‹ã‚Šã‚„ã™ã„
- âœ… **ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ãŒç°¡å˜**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä¸€æ™‚çš„ã«å¤‰æ›´

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ **å¼•æ•°ãŒå¤šã„ã¨ä½¿ã„ã«ãã„**: 10å€‹ä»¥ä¸Šã®å¼•æ•°ã¯ç®¡ç†å›°é›£
- âŒ **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®åˆ†æ•£**: å„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒãƒãƒ©ãƒãƒ©ã«ãªã‚ŠãŒã¡
- âŒ **ç’°å¢ƒåˆ¥è¨­å®šãŒé¢å€’**: dev/prod ã§æ¯å›å¼•æ•°ã‚’å¤‰ãˆã‚‹å¿…è¦
- âŒ **å‹å®‰å…¨æ€§ãŒä½ã„**: æ–‡å­—åˆ—ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ãŸã‚å‹ãƒã‚§ãƒƒã‚¯ãŒå¼±ã„

---

### YAML è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… **è¨­å®šã®ä¸€å…ƒç®¡ç†**: å…¨è¨­å®šã‚’1ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†
- âœ… **ç’°å¢ƒåˆ¥è¨­å®šãŒç°¡å˜**: `config.dev.yml`, `config.prod.yml` ã§åˆ‡ã‚Šæ›¿ãˆ
- âœ… **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: Git ã§è¨­å®šå¤‰æ›´å±¥æ­´ã‚’è¿½è·¡
- âœ… **è¤‡é›‘ãªè¨­å®šã«å¯¾å¿œ**: ãƒã‚¹ãƒˆã—ãŸæ§‹é€ ã‚‚è¡¨ç¾å¯èƒ½
- âœ… **å‹å®‰å…¨**: Pydantic ç­‰ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¯èƒ½
- âœ… **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®ç®¡ç†**: 1ç®‡æ‰€ã§ç®¡ç†

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ **ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ãŒå°‘ã—é¢å€’**: ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›† or ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä½µç”¨
- âŒ **å­¦ç¿’ã‚³ã‚¹ãƒˆ**: YAML æ§‹æ–‡ã¨ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®ç†è§£ãŒå¿…è¦
- âŒ **1å›é™ã‚Šã®å¤‰æ›´ã«ä¸å‘ã**: ã¡ã‚‡ã£ã¨ã—ãŸãƒ†ã‚¹ãƒˆã§æ¯å›ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ã¯é¢å€’

---

## ğŸ¯ æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ–¹å¼**

### è¨­è¨ˆæ–¹é‡

```
å„ªå…ˆé †ä½: ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ > YAML > ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
```

1. **YAML**: åŸºæœ¬è¨­å®šã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ç®¡ç†
2. **ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³**: YAML ã®è¨­å®šã‚’ä¸€æ™‚çš„ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
3. **ç’°å¢ƒå¤‰æ•°**: ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–ãªæƒ…å ±ï¼ˆAPI ã‚­ãƒ¼ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ æ¡ˆ

```yaml
# config/default.yml
llm:
  model: gpt-4o-mini
  max_retries: 3
  retry_delay: 2
  temperature:
    summary: 0.3
    tags: 0.2
    metric: 0.1
  max_tokens:
    summary: 1000
    tags: 500
    metric: 100

scraping:
  headless: true
  cache_ttl_days: 1
  timeout_ms: 30000
  wait_after_load_sec: 2
  delay_between_requests_sec: 2.0

cache:
  host: localhost
  port: 6379
  db: 0

database:
  # ãƒ‘ã‚¹ã¯ç’°å¢ƒå¤‰æ•° DATABASE_PATH ã‹ã‚‰å–å¾—

processing:
  default_limit: null  # null = ç„¡åˆ¶é™
  batch_size: 10
```

```yaml
# config/dev.yml (é–‹ç™ºç’°å¢ƒ)
llm:
  model: gpt-4o-mini  # ã‚³ã‚¹ãƒˆé‡è¦–

scraping:
  headless: false  # ãƒ‡ãƒãƒƒã‚°ã—ã‚„ã™ã
  delay_between_requests_sec: 1.0  # é–‹ç™ºæ™‚ã¯é€Ÿã

cache:
  db: 1  # é–‹ç™ºç”¨DB
```

```yaml
# config/prod.yml (æœ¬ç•ªç’°å¢ƒ)
llm:
  model: gpt-4o  # ç²¾åº¦é‡è¦–

scraping:
  headless: true  # æœ¬ç•ªã¯é«˜é€ŸåŒ–
  delay_between_requests_sec: 3.0  # Kaggle ã«å„ªã—ã

cache:
  db: 0  # æœ¬ç•ªç”¨DB
```

### å®Ÿè£…ä¾‹

```python
import argparse
import yaml
from pathlib import Path
from typing import Dict, Any

def load_config(env: str = "default") -> Dict[str, Any]:
    """YAMLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿"""
    config_dir = Path(__file__).parent.parent / "config"

    # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’èª­ã¿è¾¼ã¿
    with open(config_dir / "default.yml") as f:
        config = yaml.safe_load(f)

    # ç’°å¢ƒåˆ¥è¨­å®šã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
    env_file = config_dir / f"{env}.yml"
    if env_file.exists():
        with open(env_file) as f:
            env_config = yaml.safe_load(f)
            # ãƒ‡ã‚£ãƒ¼ãƒ—ãƒãƒ¼ã‚¸
            config = deep_merge(config, env_config)

    return config

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument("--env", default="default", help="è¨­å®šç’°å¢ƒ (default/dev/prod)")

    # YAMLè¨­å®šã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹å¼•æ•°
    parser.add_argument("--model", help="LLMãƒ¢ãƒ‡ãƒ«å")
    parser.add_argument("--headless", action="store_true")
    parser.add_argument("--show-browser", action="store_true")
    parser.add_argument("--limit", type=int)
    parser.add_argument("--dry-run", action="store_true")

    args = parser.parse_args()

    # YAMLè¨­å®šã‚’èª­ã¿è¾¼ã¿
    config = load_config(args.env)

    # ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
    if args.model:
        config['llm']['model'] = args.model
    if args.show_browser:
        config['scraping']['headless'] = False
    if args.limit:
        config['processing']['limit'] = args.limit

    # å‡¦ç†å®Ÿè¡Œ
    process(config, dry_run=args.dry_run)
```

### ä½¿ç”¨ä¾‹

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§å®Ÿè¡Œ
python enrich_competitions.py

# é–‹ç™ºç’°å¢ƒè¨­å®šã§å®Ÿè¡Œ
python enrich_competitions.py --env dev

# æœ¬ç•ªç’°å¢ƒè¨­å®šã§å®Ÿè¡Œï¼ˆä¸€éƒ¨ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
python enrich_competitions.py --env prod --limit 10 --dry-run

# ãƒ‡ãƒãƒƒã‚°æ™‚ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºï¼‰
python test_scraping.py --env dev --show-browser --limit 1

# ãƒ¢ãƒ‡ãƒ«ã‚’ä¸€æ™‚çš„ã«å¤‰æ›´
python enrich_competitions.py --env prod --model gpt-4o
```

---

## ğŸ“Š ã‚¢ãƒ—ãƒ­ãƒ¼ãƒåˆ¥ã®é©ç”¨ç¯„å›²

### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ã¿ã§è‰¯ã„ã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `test_scraping.py`, `test_llm.py`
- **1å›é™ã‚Šã®ãƒ„ãƒ¼ãƒ«**: ãƒ‡ãƒ¼ã‚¿èª¿æŸ»ã€ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«
- **å¼•æ•°ãŒ5å€‹ä»¥ä¸‹**: ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### YAML + ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆæ¨å¥¨ï¼‰ã®ã‚±ãƒ¼ã‚¹
- **æœ¬ç•ªé‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `enrich_competitions.py`, `fetch_competitions.py`
- **è¤‡é›‘ãªè¨­å®š**: 10å€‹ä»¥ä¸Šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- **ç’°å¢ƒåˆ¥è¨­å®šãŒå¿…è¦**: dev/staging/prod
- **ãƒãƒƒãƒå‡¦ç†**: å®šæœŸå®Ÿè¡Œã‚¸ãƒ§ãƒ–

### ç’°å¢ƒå¤‰æ•°ã®ã¿ã®ã‚±ãƒ¼ã‚¹
- **ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–æƒ…å ±**: API ã‚­ãƒ¼ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ãƒˆãƒ¼ã‚¯ãƒ³
- **ç’°å¢ƒä¾å­˜ãƒ‘ã‚¹**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ã€ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

---

## ğŸ¯ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®æ¨å¥¨

### Phase 1: ç¾çŠ¶ç¶­æŒï¼ˆã‚·ãƒ³ãƒ—ãƒ«å„ªå…ˆï¼‰
**å¯¾è±¡**: ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã€å°è¦æ¨¡ãƒ„ãƒ¼ãƒ«
- âœ… ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ã¿
- âœ… `argparse` ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ç®¡ç†
- âœ… ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ï¼ˆ`.env`ï¼‰

**ç†ç”±**:
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸæ®µéšã§ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¤
- è¨­å®šãŒé »ç¹ã«å¤‰ã‚ã‚‹å¯èƒ½æ€§
- YAML å°å…¥ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’é¿ã‘ã‚‹

### Phase 2: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰åŒ–ï¼ˆã‚¹ã‚±ãƒ¼ãƒ«æ™‚ï¼‰
**ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ä»¥ä¸‹ã®ã„ãšã‚Œã‹ãŒå½“ã¦ã¯ã¾ã‚‹æ™‚
- [ ] å¼•æ•°ãŒ10å€‹ä»¥ä¸Šã«ãªã£ãŸ
- [ ] æœ¬ç•ªé‹ç”¨ã‚’é–‹å§‹ã™ã‚‹
- [ ] ç’°å¢ƒåˆ¥è¨­å®šãŒå¿…è¦ã«ãªã£ãŸï¼ˆdev/staging/prodï¼‰
- [ ] ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒå¢—ãˆãŸ

**ç§»è¡Œå†…å®¹**:
1. `config/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
2. YAML è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
3. æ—¢å­˜ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã¯ç¶­æŒï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ç”¨ï¼‰

---

## ğŸ”§ å…·ä½“çš„ãªå®Ÿè£…ã‚¿ã‚¹ã‚¯ï¼ˆPhase 1ï¼‰

### ç¾åœ¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ”¹å–„

#### 1. `test_scraping.py` âœ… å®Œäº†
- ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°å¯¾å¿œæ¸ˆã¿
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤: `headless=True`ï¼ˆæ¨å¥¨ï¼‰

#### 2. `enrich_competitions.py` ğŸ”„ è¦æ”¹å–„
**è¿½åŠ ã™ã¹ãå¼•æ•°**:
```python
parser.add_argument("--model", default="gpt-4o-mini", help="LLMãƒ¢ãƒ‡ãƒ«")
parser.add_argument("--cache-ttl", type=int, default=1, help="ã‚­ãƒ£ãƒƒã‚·ãƒ¥TTLï¼ˆæ—¥ï¼‰")
parser.add_argument("--headless", action="store_true", default=True, help="ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰")
parser.add_argument("--show-browser", action="store_true", help="ãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤º")
```

#### 3. ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–ã®çµ±ä¸€
å„ã‚µãƒ¼ãƒ“ã‚¹ã® `__init__` ã‚’è¨­å®šè¾æ›¸ã§åˆæœŸåŒ–ã§ãã‚‹ã‚ˆã†ã«:
```python
# Before
scraper = ScraperService(cache_ttl_days=1, headless=True)

# After (è¨­å®šè¾æ›¸å¯¾å¿œ)
config = {"cache_ttl_days": 1, "headless": True}
scraper = ScraperService.from_config(config)
```

---

## ğŸ“ ã¾ã¨ã‚

### è³ªå•ã¸ã®å›ç­”

**Q1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãŠè–¦ã‚ã®ã«ã—ã¦ãŠã„ã¦**
- âœ… `headless=True` ã‚’æ¨å¥¨ï¼ˆæœ¬ç•ªãƒ»CI/CD å‘ã‘ï¼‰
- ãƒ‡ãƒãƒƒã‚°æ™‚ã¯ `--show-browser` ã§æ˜ç¤ºçš„ã«ã‚ªãƒ•

**Q2: ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ vs YAML ã©ã£ã¡ãŒã„ã„ï¼Ÿ**
- **ç¾æ™‚ç‚¹**: ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ã¿ï¼ˆã‚·ãƒ³ãƒ—ãƒ«å„ªå…ˆï¼‰
- **å°†æ¥**: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ–¹å¼ï¼ˆYAML + ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰
- **ç§»è¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: æœ¬ç•ªé‹ç”¨é–‹å§‹ or å¼•æ•°ãŒ10å€‹è¶…ãˆãŸæ™‚

**Q3: ä»–ã®å¤‰æ›´å¯èƒ½ãªå¼•æ•°ã¯ï¼Ÿ**
- **é«˜é »åº¦å¤‰æ›´**: `headless`, `limit`, `dry_run`, `delay_seconds`
- **ä¸­é »åº¦å¤‰æ›´**: `model`, `cache_ttl`, `timeout`, `max_retries`
- **ä½é »åº¦å¤‰æ›´**: `base_url`, `database_path`ï¼ˆã»ã¼å›ºå®šï¼‰

### æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. âœ… `test_scraping.py` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ `headless=True` ã«ï¼ˆå®Œäº†ï¼‰
2. ğŸ”„ `enrich_competitions.py` ã«è¿½åŠ å¼•æ•°ã‚’å®Ÿè£…
3. ğŸ“ å°†æ¥çš„ãª YAML ç§»è¡Œè¨ˆç”»ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–

---

**ä½œæˆæ—¥**: 2025-11-16
**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: Phase 1ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ï¼‰â†’ Phase 2ï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ï¼‰
