# 5. データ取得戦略

## 5.1 段階的なデータ取得方針

**Phase 0: 開発・検証**
- 取得件数: 10件（最新の終了済みコンペ）
- 目的: コードの動作確認、デバッグ

**Phase 1: MVP（初期リリース）**
- 取得範囲: 直近1年間
- 推定件数: 100-150件
- 目的: 実運用開始、最新トレンド把握

**Phase 2: 完全版**
- 取得範囲: 2020年1月以降
- 推定件数: 400-500件
- 目的: 完全なナレッジベース構築

## 5.2 取得対象の優先順位

**優先度 高:**
- Featured (賞金付き大規模コンペ)
- Research (研究目的コンペ)
- Playground (練習用コンペ)

**優先度 中:**
- Recruitment (採用目的コンペ)
- Analytics (分析コンペ)

**優先度 低:**
- Getting Started (初心者向け常設コンペ)
  - Titanic, House Prices等は別途手動で追加

---

# 6. データフロー

## 6.1 初期セットアップ（1回のみ）
```
1. DB初期化
   ↓
2. Kaggle APIで全コンペ取得
   ↓
3. 基本情報をDB保存
   ↓
4. LLMで要約・タグ生成（バッチ処理）
   ↓
5. DB更新
```

## 6.2 日次更新（自動バッチ）
```
1. Kaggle APIで新規コンペをチェック
   ↓
2. 新規コンペのみDB追加
   ↓
3. LLM処理
   ↓
4. DB更新
```

## 6.3 ディスカッション追加（Phase 2）
```
1. ユーザーがコンペを選択
   ↓
2. Playwrightで一覧取得
   ↓
3. フィルタリング（Vote数、金メダリスト）
   ↓
4. ユーザーが詳細取得対象を選択
   ↓
5. 各ページから本文取得
   ↓
6. LLMでカテゴリ分類・要約
   ↓
7. DB保存
```

---

**関連ドキュメント:**
- [データ設計](./03_data_design.md)
- [バックエンド仕様](./11_backend_spec.md)
